<!DOCTYPE html><html><head><title>Tearable Cloth</title><style>*{margin:0;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}body{background:#F2F2F2}#c{display:block;margin:20px auto 0}#info{position:absolute;left:-1px;top:-1px;width:auto;max-width:420px;height:auto;background:#f8f8f8;border-bottom-right-radius:10px;border:1px solid #ccc}#top{background:#fff;width:100%;height:auto;position:relative;border-bottom:1px solid #eee}p{font-family:Arial,sans-serif;color:#666;text-align:justify;font-size:16px;margin:0 16px}#github,#twitter{color:#3377ee;font-family:Helvetica,Arial,sans-serif;font-size:14px;margin:0 auto;text-align:center;text-decoration:none}.center{text-align:center}#net{text-align:center;white-space:nowrap;font-size:19px;background:rgba(0,0,0,0.1);padding:8px 12px;border-radius:8px;display:block;color:#888}#net>span{color:#3377ee;font-family:Helvetica,Arial,sans-serif;font-size:14px;display:block;margin:0 auto;text-align:center;text-decoration:none}a{font-family:sans-serif;color:#444;text-decoration:none;font-size:20px}#site{float:left;margin:10px;color:#ff9900;border-bottom:1px dashed #ccc;padding-bottom:3px}#site:hover{color:#ffaa11}#close{float:right;margin:10px}#p{font-family:Verdana,sans-serif;position:absolute;right:10px;bottom:10px;color:#4099ff;border:1px dashed #4099ff;padding:4px 8px}#new{width:100%;text-align:center;font-size:18px;font-family:Helvetica;margin-top:12px}#new a{font-size:20px;color:#4099ff}.bull{opacity:.3;margin:0 6px;font-size:14px}</style></head><body><canvas id="c"></canvas><div id="info"><div id="top"><a id="close" href="">&times;</a></div><p><br>- Tear the cloth with your mouse<br><br>- Right click and drag to cut<br><br><br><div class="center"><a id="github" target="_blank" href="https://github.com/dissimulate/Tearable-Cloth">GitHub</a>&nbsp;</div><br></p></div><script>var c=document.getElementById("c"),a=c.getContext("2d"),w=c.width=560,h=c.height=350,p=[],m={d:!1,b:1,x:0,y:0,px:0,py:0},e=3,f=20,g=5,k=1200,l=30,q=50,r=20,s=7,t=60;function u(x,y){this.x=x;this.y=y;this.px=x;this.py=y;this.vx=0;this.vy=0;this.X=null;this.Y=null;this.C=[]}function v(p1,p2){this.p1=p1;this.p2=p2;this.l=s}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)};document.getElementById("close").onmousedown=function(a){a.preventDefault();document.getElementById("info").style.display="none";return!1};for(var y=0;y<=l;y++)for(var x=0;x<=q;x++){var d=new u(w/2-q*s/2+x*s,r+y*s);x!=0&&d.C.push(new v(d,p[p.length-1]));y==0&&(d.X=d.x,d.Y=d.y);y!=0&&d.C.push(new v(d,p[x+(y-1)*(q+1)]));p.push(d)}function z(){for(var i=e;i--;)for(var j=p.length;j--;){var d=p[j];if(d.X!=null&&d.Y!=null){d.x=d.X;d.y=d.Y}else{for(var k=d.C.length;k--;){var C=d.C[k],D=C.p1.x-C.p2.x,E=C.p1.y-C.p2.y,F=Math.sqrt(D*D+E*E),G=(C.l-F)/F;F>t&&d.C.splice(k,1);var H=D*G*.5,I=E*G*.5;C.p1.x+=H;C.p1.y+=I;C.p2.x-=H;C.p2.y-=I}}d.x>w-1?d.x=2*(w-1)-d.x:1>d.x&&(d.x=2-d.x);d.y<1?d.y=2-d.y:d.y>h-1&&(d.y=2*(h-1)-d.y)}for(var i=p.length;i--;){var d=p[i];if(m.d){var D=d.x-m.x,E=d.y-m.y,F=Math.sqrt(D*D+E*E);m.b==1?F<f&&(d.px=d.x-(m.x-m.px)*1.8,d.py=d.y-(m.y-m.py)*1.8):F<g&&(d.C=[])}d.vx+=0;d.vy+=k/1e3;var J=.016*.016;nx=d.x+(d.x-d.px)*.99+(d.vx/2)*J;ny=d.y+(d.y-d.py)*.99+(d.vy/2)*J;d.px=d.x;d.py=d.y;d.x=nx;d.y=ny;d.vy=d.vx=0}a.clearRect(0,0,w,h);a.beginPath();for(var i=p.length;i--;){var d=p[i];if(d.C.length){for(var j=d.C.length;j--;){a.moveTo(d.C[j].p1.x,d.C[j].p1.y);a.lineTo(d.C[j].p2.x,d.C[j].p2.y)}}}a.strokeStyle="#888";a.stroke();requestAnimFrame(z)}c.onmousedown=function(a){m.b=a.which;m.px=m.x;m.py=m.y;var b=c.getBoundingClientRect();m.x=a.clientX-b.left;m.y=a.clientY-b.top;m.d=!0;a.preventDefault()};c.onmouseup=function(a){m.d=!1;a.preventDefault()};c.onmousemove=function(a){m.px=m.x;m.py=m.y;var b=c.getBoundingClientRect();m.x=a.clientX-b.left;m.y=a.clientY-b.top;a.preventDefault()};c.oncontextmenu=function(a){a.preventDefault()};z();</script></body></html>